CREATE TABLE ACTIVIDAD (CODACTIVIDAD BIGINT NOT NULL, CAPACIDADESNECESARIAS VARCHAR(255), DESCRIPCION VARCHAR(255), ESTADOACTIVIDAD VARCHAR(255), ESTADOSOLICITUD VARCHAR(255), FECHAFIN DATE, FECHAINICIO DATE, LOCALIZACION VARCHAR(255), NOMBREACTIVIDAD VARCHAR(255), PUNTUACION INTEGER, TIPOACTIVIDAD VARCHAR(255), PRIMARY KEY (CODACTIVIDAD))
CREATE TABLE ALUMNO (USERID BIGINT NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255) UNIQUE, FECHANACIMIENTO DATE, NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), ROL VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FORMACION VARCHAR(255), FOTO VARCHAR(255), IDIOMA VARCHAR(255), TELEFONO INTEGER, PRIMARY KEY (USERID))
CREATE TABLE ASIGNATURA (CODASIGNATURA BIGINT NOT NULL, CURSOIMPARTIDA INTEGER, NOMBREASIGNATURA VARCHAR(255), PRIMARY KEY (CODASIGNATURA))
CREATE TABLE GESTOR (CODGESTOR BIGINT NOT NULL, CONTRASENIA VARCHAR(255), USUARIO VARCHAR(255), PRIMARY KEY (CODGESTOR))
CREATE TABLE MATCHING (ID BIGINT NOT NULL, AMBITOACTIVIDAD VARCHAR(255), INFOCAPACIDADES VARCHAR(255), INFOIDIOMAS VARCHAR(255), INFOPREFERENCIAS VARCHAR(255), INFOTITULACION VARCHAR(255), TIPOACTIVIDAD VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE MENSAJE (IDMENSAJE BIGINT NOT NULL, TEXTO VARCHAR(255), PRIMARY KEY (IDMENSAJE))
CREATE TABLE NOTICIA (CODNOTICIA BIGINT NOT NULL, DESCRIPCION VARCHAR(255), TITULO VARCHAR(255), PRIMARY KEY (CODNOTICIA))
CREATE TABLE ORGANIZACION (CODPROYECTO BIGINT NOT NULL, NOMBRE VARCHAR(255), SEDE VARCHAR(255), PROPOSITO VARCHAR(255), PRIMARY KEY (CODPROYECTO))
CREATE TABLE PAS (USERID BIGINT NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255) UNIQUE, FECHANACIMIENTO DATE, NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), ROL VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FORMACION VARCHAR(255), FOTO VARCHAR(255), IDIOMA VARCHAR(255), TELEFONO INTEGER, PRIMARY KEY (USERID))
CREATE TABLE PDI (USERID BIGINT NOT NULL, APELLIDOS VARCHAR(255), CODACTIVIDAD BIGINT, DNI VARCHAR(255) UNIQUE, DEPARTAMENTO VARCHAR(255), FECHANACIMIENTO DATE, NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), ROL VARCHAR(255), TITULACION VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FORMACION VARCHAR(255), FOTO VARCHAR(255), IDIOMA VARCHAR(255), TELEFONO INTEGER, PRIMARY KEY (USERID))
CREATE TABLE PARTICIPACIONENACTIVIDAD (Fecha DATE NOT NULL UNIQUE, COMENTARIOSNOTA VARCHAR(255), ESTADO VARCHAR(255), HORASDEDICADAS INTEGER, IDPARTICIPACION BIGINT, NOTA INTEGER, OBSERVACIONES VARCHAR(255), PRIMARY KEY (Fecha))
CREATE TABLE USUARIO (USERID BIGINT NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255) UNIQUE, FECHANACIMIENTO DATE, NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), ROL VARCHAR(255), DIRECCION VARCHAR(255), EMAIL VARCHAR(255), FORMACION VARCHAR(255), FOTO VARCHAR(255), IDIOMA VARCHAR(255), TELEFONO INTEGER, PRIMARY KEY (USERID))
CREATE TABLE VALORACIONPUBLICA (IDVALORACION BIGINT NOT NULL, CALIFICACION INTEGER, COMENTARIOSUSUARIO VARCHAR(255), PRIMARY KEY (IDVALORACION))
CREATE TABLE VALORACIONPRIVADA (ID BIGINT NOT NULL, COMENTARIOSONG VARCHAR(255), PUNTUACION INTEGER, PRIMARY KEY (ID))
CREATE TABLE ACTIVIDAD_ASIGNATURA (Actividad_CODACTIVIDAD BIGINT NOT NULL, Asignaturas_CODASIGNATURA BIGINT NOT NULL, PRIMARY KEY (Actividad_CODACTIVIDAD, Asignaturas_CODASIGNATURA))
CREATE TABLE ACTIVIDAD_VALORACIONPUBLICA (Actividad_CODACTIVIDAD BIGINT NOT NULL, Valoracion_IDVALORACION BIGINT NOT NULL, PRIMARY KEY (Actividad_CODACTIVIDAD, Valoracion_IDVALORACION))
CREATE TABLE jnd_matc_act (actividad_fk BIGINT NOT NULL, matching_fk BIGINT NOT NULL, PRIMARY KEY (actividad_fk, matching_fk))
CREATE TABLE ACTIVIDAD_PARTICIPACIONENACTIVIDAD (Actividad_CODACTIVIDAD BIGINT NOT NULL, participantes_Fecha DATE NOT NULL, PRIMARY KEY (Actividad_CODACTIVIDAD, participantes_Fecha))
CREATE TABLE jnd_alum_asig (alumno_fk BIGINT NOT NULL, asignatura_fk BIGINT NOT NULL, PRIMARY KEY (alumno_fk, asignatura_fk))
CREATE TABLE ALUMNO_MATCHING (Alumno_USERID BIGINT NOT NULL, matching_ID BIGINT NOT NULL, PRIMARY KEY (Alumno_USERID, matching_ID))
CREATE TABLE ALUMNO_MENSAJE (Alumno_USERID BIGINT NOT NULL, mensajes_IDMENSAJE BIGINT NOT NULL, PRIMARY KEY (Alumno_USERID, mensajes_IDMENSAJE))
CREATE TABLE ALUMNO_PARTICIPACIONENACTIVIDAD (Alumno_USERID BIGINT NOT NULL, participantes_Fecha DATE NOT NULL, PRIMARY KEY (Alumno_USERID, participantes_Fecha))
CREATE TABLE ALUMNO_VALORACIONPRIVADA (Alumno_USERID BIGINT NOT NULL, valoraciones_ID BIGINT NOT NULL, PRIMARY KEY (Alumno_USERID, valoraciones_ID))
CREATE TABLE ALUMNO_VALORACIONPUBLICA (Alumno_USERID BIGINT NOT NULL, valoracionesPublicas_IDVALORACION BIGINT NOT NULL, PRIMARY KEY (Alumno_USERID, valoracionesPublicas_IDVALORACION))
CREATE TABLE asig_pdi (pdi_fk BIGINT NOT NULL, asignatura_fk BIGINT NOT NULL, PRIMARY KEY (pdi_fk, asignatura_fk))
CREATE TABLE GESTOR_ACTIVIDAD (Gestor_CODGESTOR BIGINT NOT NULL, Actividades_CODACTIVIDAD BIGINT NOT NULL, PRIMARY KEY (Gestor_CODGESTOR, Actividades_CODACTIVIDAD))
CREATE TABLE GESTOR_NOTICIA (Gestor_CODGESTOR BIGINT NOT NULL, noticias_CODNOTICIA BIGINT NOT NULL, PRIMARY KEY (Gestor_CODGESTOR, noticias_CODNOTICIA))
CREATE TABLE MENSAJE_USUARIO (Mensaje_IDMENSAJE BIGINT NOT NULL, Usuarios_USERID BIGINT NOT NULL, PRIMARY KEY (Mensaje_IDMENSAJE, Usuarios_USERID))
CREATE TABLE ORGANIZACION_ACTIVIDAD (Organizacion_CODPROYECTO BIGINT NOT NULL, Actividades_CODACTIVIDAD BIGINT NOT NULL, PRIMARY KEY (Organizacion_CODPROYECTO, Actividades_CODACTIVIDAD))
CREATE TABLE ORGANIZACION_VALORACIONPRIVADA (Organizacion_CODPROYECTO BIGINT NOT NULL, valoraciones_ID BIGINT NOT NULL, PRIMARY KEY (Organizacion_CODPROYECTO, valoraciones_ID))
CREATE TABLE PAS_MATCHING (PAS_USERID BIGINT NOT NULL, matching_ID BIGINT NOT NULL, PRIMARY KEY (PAS_USERID, matching_ID))
CREATE TABLE PAS_MENSAJE (PAS_USERID BIGINT NOT NULL, mensajes_IDMENSAJE BIGINT NOT NULL, PRIMARY KEY (PAS_USERID, mensajes_IDMENSAJE))
CREATE TABLE PAS_PARTICIPACIONENACTIVIDAD (PAS_USERID BIGINT NOT NULL, participantes_Fecha DATE NOT NULL, PRIMARY KEY (PAS_USERID, participantes_Fecha))
CREATE TABLE PAS_VALORACIONPRIVADA (PAS_USERID BIGINT NOT NULL, valoraciones_ID BIGINT NOT NULL, PRIMARY KEY (PAS_USERID, valoraciones_ID))
CREATE TABLE PAS_VALORACIONPUBLICA (PAS_USERID BIGINT NOT NULL, valoracionesPublicas_IDVALORACION BIGINT NOT NULL, PRIMARY KEY (PAS_USERID, valoracionesPublicas_IDVALORACION))
CREATE TABLE PDI_MATCHING (PDI_USERID BIGINT NOT NULL, matching_ID BIGINT NOT NULL, PRIMARY KEY (PDI_USERID, matching_ID))
CREATE TABLE PDI_MENSAJE (PDI_USERID BIGINT NOT NULL, mensajes_IDMENSAJE BIGINT NOT NULL, PRIMARY KEY (PDI_USERID, mensajes_IDMENSAJE))
CREATE TABLE PDI_PARTICIPACIONENACTIVIDAD (PDI_USERID BIGINT NOT NULL, participantes_Fecha DATE NOT NULL, PRIMARY KEY (PDI_USERID, participantes_Fecha))
CREATE TABLE PDI_VALORACIONPRIVADA (PDI_USERID BIGINT NOT NULL, valoraciones_ID BIGINT NOT NULL, PRIMARY KEY (PDI_USERID, valoraciones_ID))
CREATE TABLE PDI_VALORACIONPUBLICA (PDI_USERID BIGINT NOT NULL, valoracionesPublicas_IDVALORACION BIGINT NOT NULL, PRIMARY KEY (PDI_USERID, valoracionesPublicas_IDVALORACION))
CREATE TABLE USUARIO_MATCHING (Usuario_USERID BIGINT NOT NULL, matching_ID BIGINT NOT NULL, PRIMARY KEY (Usuario_USERID, matching_ID))
CREATE TABLE USUARIO_MENSAJE (Usuario_USERID BIGINT NOT NULL, mensajes_IDMENSAJE BIGINT NOT NULL, PRIMARY KEY (Usuario_USERID, mensajes_IDMENSAJE))
CREATE TABLE USUARIO_PARTICIPACIONENACTIVIDAD (Usuario_USERID BIGINT NOT NULL, participantes_Fecha DATE NOT NULL, PRIMARY KEY (Usuario_USERID, participantes_Fecha))
CREATE TABLE USUARIO_VALORACIONPRIVADA (Usuario_USERID BIGINT NOT NULL, valoraciones_ID BIGINT NOT NULL, PRIMARY KEY (Usuario_USERID, valoraciones_ID))
CREATE TABLE USUARIO_VALORACIONPUBLICA (Usuario_USERID BIGINT NOT NULL, valoracionesPublicas_IDVALORACION BIGINT NOT NULL, PRIMARY KEY (Usuario_USERID, valoracionesPublicas_IDVALORACION))
ALTER TABLE ACTIVIDAD_ASIGNATURA ADD CONSTRAINT CTVDDSctvddCDCTVDD FOREIGN KEY (Actividad_CODACTIVIDAD) REFERENCES ACTIVIDAD (CODACTIVIDAD)
ALTER TABLE ACTIVIDAD_ASIGNATURA ADD CONSTRAINT CTVDDsgntrsCDSGNTR FOREIGN KEY (Asignaturas_CODASIGNATURA) REFERENCES ASIGNATURA (CODASIGNATURA)
ALTER TABLE ACTIVIDAD_VALORACIONPUBLICA ADD CONSTRAINT CTVDDVctvddCDCTVDD FOREIGN KEY (Actividad_CODACTIVIDAD) REFERENCES ACTIVIDAD (CODACTIVIDAD)
ALTER TABLE ACTIVIDAD_VALORACIONPUBLICA ADD CONSTRAINT CTVDDVLVlrcnDVLRCN FOREIGN KEY (Valoracion_IDVALORACION) REFERENCES VALORACIONPUBLICA (IDVALORACION)
ALTER TABLE jnd_matc_act ADD CONSTRAINT jndmtcactmtchingfk FOREIGN KEY (matching_fk) REFERENCES MATCHING (ID)
ALTER TABLE jnd_matc_act ADD CONSTRAINT jndmtcactctvidadfk FOREIGN KEY (actividad_fk) REFERENCES ACTIVIDAD (CODACTIVIDAD)
ALTER TABLE ACTIVIDAD_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT CTVDDPRprtcpntsFch FOREIGN KEY (participantes_Fecha) REFERENCES PARTICIPACIONENACTIVIDAD (Fecha)
ALTER TABLE ACTIVIDAD_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT CTVDDPctvddCDCTVDD FOREIGN KEY (Actividad_CODACTIVIDAD) REFERENCES ACTIVIDAD (CODACTIVIDAD)
ALTER TABLE jnd_alum_asig ADD CONSTRAINT jndalumasiglumnofk FOREIGN KEY (alumno_fk) REFERENCES ALUMNO (USERID)
ALTER TABLE jnd_alum_asig ADD CONSTRAINT jndlmasigsgnturafk FOREIGN KEY (asignatura_fk) REFERENCES ASIGNATURA (CODASIGNATURA)
ALTER TABLE ALUMNO_MATCHING ADD CONSTRAINT LMNMTCHINGlmnSERID FOREIGN KEY (Alumno_USERID) REFERENCES ALUMNO (USERID)
ALTER TABLE ALUMNO_MATCHING ADD CONSTRAINT LMNMTCHINGmtchngID FOREIGN KEY (matching_ID) REFERENCES MATCHING (ID)
ALTER TABLE ALUMNO_MENSAJE ADD CONSTRAINT LMNMENSAJElmnSERID FOREIGN KEY (Alumno_USERID) REFERENCES ALUMNO (USERID)
ALTER TABLE ALUMNO_MENSAJE ADD CONSTRAINT LMNMNSJmnsjsDMNSJE FOREIGN KEY (mensajes_IDMENSAJE) REFERENCES MENSAJE (IDMENSAJE)
ALTER TABLE ALUMNO_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT LMNPRTCPCNNClmnSRD FOREIGN KEY (Alumno_USERID) REFERENCES ALUMNO (USERID)
ALTER TABLE ALUMNO_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT LMNPRTCprtcpntsFch FOREIGN KEY (participantes_Fecha) REFERENCES PARTICIPACIONENACTIVIDAD (Fecha)
ALTER TABLE ALUMNO_VALORACIONPRIVADA ADD CONSTRAINT LMNVLRCNPRVvlrcnsD FOREIGN KEY (valoraciones_ID) REFERENCES VALORACIONPRIVADA (ID)
ALTER TABLE ALUMNO_VALORACIONPRIVADA ADD CONSTRAINT LMNVLRCNPRVDlmnSRD FOREIGN KEY (Alumno_USERID) REFERENCES ALUMNO (USERID)
ALTER TABLE ALUMNO_VALORACIONPUBLICA ADD CONSTRAINT LvlrcnsPblcsDVLRCN FOREIGN KEY (valoracionesPublicas_IDVALORACION) REFERENCES VALORACIONPUBLICA (IDVALORACION)
ALTER TABLE ALUMNO_VALORACIONPUBLICA ADD CONSTRAINT LMNVLRCNPBLClmnSRD FOREIGN KEY (Alumno_USERID) REFERENCES ALUMNO (USERID)
ALTER TABLE asig_pdi ADD CONSTRAINT sigpdiasignaturafk FOREIGN KEY (asignatura_fk) REFERENCES PDI (USERID)
ALTER TABLE asig_pdi ADD CONSTRAINT FK_asig_pdi_pdi_fk FOREIGN KEY (pdi_fk) REFERENCES ASIGNATURA (CODASIGNATURA)
ALTER TABLE GESTOR_ACTIVIDAD ADD CONSTRAINT GSTRCTVDGstrCDGSTR FOREIGN KEY (Gestor_CODGESTOR) REFERENCES GESTOR (CODGESTOR)
ALTER TABLE GESTOR_ACTIVIDAD ADD CONSTRAINT GSTRCctvddsCDCTVDD FOREIGN KEY (Actividades_CODACTIVIDAD) REFERENCES ACTIVIDAD (CODACTIVIDAD)
ALTER TABLE GESTOR_NOTICIA ADD CONSTRAINT GSTRNTCGstrCDGSTOR FOREIGN KEY (Gestor_CODGESTOR) REFERENCES GESTOR (CODGESTOR)
ALTER TABLE GESTOR_NOTICIA ADD CONSTRAINT GSTRNTCntcsCDNTCIA FOREIGN KEY (noticias_CODNOTICIA) REFERENCES NOTICIA (CODNOTICIA)
ALTER TABLE ORGANIZACION_ACTIVIDAD ADD CONSTRAINT RGNZCctvddsCDCTVDD FOREIGN KEY (Actividades_CODACTIVIDAD) REFERENCES ACTIVIDAD (CODACTIVIDAD)
ALTER TABLE ORGANIZACION_ACTIVIDAD ADD CONSTRAINT RGNZCrgnzcnCDPRYCT FOREIGN KEY (Organizacion_CODPROYECTO) REFERENCES ORGANIZACION (CODPROYECTO)
ALTER TABLE ORGANIZACION_VALORACIONPRIVADA ADD CONSTRAINT RGNZCrgnzcnCDPRYCT FOREIGN KEY (Organizacion_CODPROYECTO) REFERENCES ORGANIZACION (CODPROYECTO)
ALTER TABLE ORGANIZACION_VALORACIONPRIVADA ADD CONSTRAINT RGNZCNVLRCNvlrcnsD FOREIGN KEY (valoraciones_ID) REFERENCES VALORACIONPRIVADA (ID)
ALTER TABLE PAS_MATCHING ADD CONSTRAINT PSMATCHINGPSUSERID FOREIGN KEY (PAS_USERID) REFERENCES PAS (USERID)
ALTER TABLE PAS_MATCHING ADD CONSTRAINT PSMTCHINGmtchingID FOREIGN KEY (matching_ID) REFERENCES MATCHING (ID)
ALTER TABLE PAS_MENSAJE ADD CONSTRAINT PSMNSJmnsjsDMNSAJE FOREIGN KEY (mensajes_IDMENSAJE) REFERENCES MENSAJE (IDMENSAJE)
ALTER TABLE PAS_MENSAJE ADD CONSTRAINT PSMENSAJEPASUSERID FOREIGN KEY (PAS_USERID) REFERENCES PAS (USERID)
ALTER TABLE PAS_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT PSPRTCPprtcpntsFch FOREIGN KEY (participantes_Fecha) REFERENCES PARTICIPACIONENACTIVIDAD (Fecha)
ALTER TABLE PAS_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT PSPRTCPCNNCTVPSSRD FOREIGN KEY (PAS_USERID) REFERENCES PAS (USERID)
ALTER TABLE PAS_VALORACIONPRIVADA ADD CONSTRAINT PSVLRCNPRVADAPSSRD FOREIGN KEY (PAS_USERID) REFERENCES PAS (USERID)
ALTER TABLE PAS_VALORACIONPRIVADA ADD CONSTRAINT PSVLRCNPRVDvlrcnsD FOREIGN KEY (valoraciones_ID) REFERENCES VALORACIONPRIVADA (ID)
ALTER TABLE PAS_VALORACIONPUBLICA ADD CONSTRAINT PSVLRCNPBLICAPSSRD FOREIGN KEY (PAS_USERID) REFERENCES PAS (USERID)
ALTER TABLE PAS_VALORACIONPUBLICA ADD CONSTRAINT PvlrcnsPblcsDVLRCN FOREIGN KEY (valoracionesPublicas_IDVALORACION) REFERENCES VALORACIONPUBLICA (IDVALORACION)
ALTER TABLE PDI_MATCHING ADD CONSTRAINT PDMATCHINGPDUSERID FOREIGN KEY (PDI_USERID) REFERENCES PDI (USERID)
ALTER TABLE PDI_MATCHING ADD CONSTRAINT PDMTCHINGmtchingID FOREIGN KEY (matching_ID) REFERENCES MATCHING (ID)
ALTER TABLE PDI_MENSAJE ADD CONSTRAINT PDMENSAJEPDIUSERID FOREIGN KEY (PDI_USERID) REFERENCES PDI (USERID)
ALTER TABLE PDI_MENSAJE ADD CONSTRAINT PDMNSJmnsjsDMNSAJE FOREIGN KEY (mensajes_IDMENSAJE) REFERENCES MENSAJE (IDMENSAJE)
ALTER TABLE PDI_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT PDPRTCPprtcpntsFch FOREIGN KEY (participantes_Fecha) REFERENCES PARTICIPACIONENACTIVIDAD (Fecha)
ALTER TABLE PDI_PARTICIPACIONENACTIVIDAD ADD CONSTRAINT PDPRTCPCNNCTVPDSRD FOREIGN KEY (PDI_USERID) REFERENCES PDI (USERID)
ALTER TABLE PDI_VALORACIONPRIVADA ADD CONSTRAINT PDVLRCNPRVADAPDSRD FOREIGN KEY (PDI_USERID) REFERENCES PDI (USERID)
ALTER TABLE PDI_VALORACIONPRIVADA ADD CONSTRAINT PDVLRCNPRVDvlrcnsD FOREIGN KEY (valoraciones_ID) REFERENCES VALORACIONPRIVADA (ID)
ALTER TABLE PDI_VALORACIONPUBLICA ADD CONSTRAINT PDVLRCNPBLICAPDSRD FOREIGN KEY (PDI_USERID) REFERENCES PDI (USERID)
ALTER TABLE PDI_VALORACIONPUBLICA ADD CONSTRAINT PvlrcnsPblcsDVLRCN FOREIGN KEY (valoracionesPublicas_IDVALORACION) REFERENCES VALORACIONPUBLICA (IDVALORACION)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
